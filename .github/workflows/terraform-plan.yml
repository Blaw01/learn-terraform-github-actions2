name: 'Terraform Plan'

on:
    pull_request:
  
  env:
    TF_CLOUD_ORGANIZATION: "Class6-ADO"
    TF_API_TOKEN: "${{ secrets.TF_API_TOKEN }}"
    TF_WORKSPACE: "learn-terraform-github-actions"
    CONFIG_DIRECTORY: "./"

    jobs:
  terraform:
    if: github.repository != 'hashicorp-education/learn-terraform-github-actions'
    name: "Terraform Plan"
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write
    steps:

        - name: Checkout
  uses: actions/checkout@v3